<!DOCTYPE html>
<html lang="en">
<head>
<!-- 2025-10-03 Fri 18:57 -->
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>OTP</title>
<meta name="author" content="Marcos Benevides" />
<meta name="generator" content="Org Mode" />
<link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
<!-- syntax highlighting -->
<link rel="stylesheet" href="https://unpkg.com/@highlightjs/cdn-assets@11.9.0/styles/default.min.css">
<script src="https://unpkg.com/@highlightjs/cdn-assets@11.9.0/highlight.min.js"></script>
<script src="https://unpkg.com/@highlightjs/cdn-assets@11.9.0/languages/erlang.min.js"></script>
<script src="https://unpkg.com/@highlightjs/cdn-assets@11.9.0/languages/fsharp.min.js"></script>
<script src="https://unpkg.com/@highlightjs/cdn-assets@11.9.0/languages/nix.min.js"></script>
<script src="https://unpkg.com/@highlightjs/cdn-assets@11.9.0/languages/yaml.min.js"></script>
<!-- D3.js for the Org-roam graph -->
<script type="text/javascript" src ="https://d3js.org/d3.v7.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.9.0/d3.min.js"></script>
<!-- For LaTeX -->
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
<link href="https://schonfinkel.github.io/static/css/main.css" rel="stylesheet">
<script>
  MathJax = {
    tex: {
      displayMath: [['\\[', '\\]'], ['$$', '$$']],  // block
      inlineMath: [['\\(', '\\)']]                  // inline
    }
  };
</script>
</head>
<body>
<header id="preamble" class="status">
<nav>
  <img
    src="https://schonfinkel.github.io/static/img/logo.png"
    alt="logo"
    width="128"
    height="128"
  />
  <div>
    <h3>"Writing is nothing more than a guided dream."</h3>
  </div>
  <ul>
    <li><a href="https://schonfinkel.github.io/index.html">Home</a></li>
    <li><a href="https://schonfinkel.github.io/blog.html">Blog</a></li>
    <li><a href="https://schonfinkel.github.io/notes.html">Notes</a></li>
    <li><a href="https://schonfinkel.github.io/static/cv.pdf">Resume</a></li>
    <li><a href="https://schonfinkel.github.io/static/blogroll.xml">BlogRoll</a></li>
    <li><a href="https://schonfinkel.github.io/rss.xml"><i class='bx bx-rss'></i></a></li>
  </ul>
</nav>
</header>
<main id="content" class="content">
<header>
<h1 class="title">OTP</h1>
</header><blockquote>
<p>
OTP is a domain-independent set of frameworks, principles, and patterns that
guide and support the structure, design, implementation, and deployment of
Erlang systems. Using OTP in your projects will help you avoid accidental
complexity: things that are difficult because you picked inadequate tools.
</p>

<p>
OTP is said to consist of three building blocks that, when used together,
provide a solid approach to designing and developing systems in the problem
domain we’ve just described. They are <a href="20240619114451-erlang.html#ID-de7d0e94-618f-4982-b3e5-8806d88cad5d">Erlang</a> itself, tools and libraries, and a
set of design principles. (<a href="#citeproc_bib_item_1">Cesarini and Vinoski 2016, 4</a>)
</p>
</blockquote>
<div id="outline-container-org967e9a8" class="outline-2">
<h2 id="org967e9a8">The Tripartite Structure of OTP</h2>
<div class="outline-text-2" id="text-org967e9a8">
</div>
<div id="outline-container-orgae45a8e" class="outline-3">
<h3 id="orgae45a8e">Erlang</h3>
</div>

<div id="outline-container-orgee6c55e" class="outline-3">
<h3 id="orgee6c55e">Tools and Libraries</h3>
<div class="outline-text-3" id="text-orgee6c55e">
</div>
<div id="outline-container-org792f25b" class="outline-4">
<h4 id="org792f25b">Basic Applications</h4>
<div class="outline-text-4" id="text-org792f25b">
<blockquote>
<p>
Together with the compiler, these are the minimal subset of applications
necessary in any system written in Erlang/OTP to do anything
meaningful. (<a href="#citeproc_bib_item_1">Cesarini and Vinoski 2016, 8</a>)
</p>
</blockquote>

<ul class="org-ul">
<li><a href="20250114091629-erts.html#ID-d47afd83-8f59-44ea-a237-b6eafaa3662e">ERTS</a></li>
<li>The <i>kernel</i></li>
<li>The Standard Libraries (<i>stdlib</i>)</li>
<li>The System Architecture and Support Libraries (<i>sasl</i>)</li>
</ul>
</div>
</div>
<div id="outline-container-org9d1058c" class="outline-4">
<h4 id="org9d1058c">Database Applications</h4>
<div class="outline-text-4" id="text-org9d1058c">
<ul class="org-ul">
<li><a href="20241217132913-mnesia.html#ID-568e0595-4bf0-40b5-981f-fd0aa9312785">MNESIA</a></li>
<li><code>odbc</code></li>
</ul>
</div>
</div>
<div id="outline-container-orge9c9477" class="outline-4">
<h4 id="orge9c9477">Operations and Maintenance Applications</h4>
<div class="outline-text-4" id="text-orge9c9477">
<ul class="org-ul">
<li><code>os_mon</code></li>
<li><code>snmp</code></li>
<li><code>otp_mibs</code></li>
</ul>
</div>
</div>
<div id="outline-container-orgfbe89ae" class="outline-4">
<h4 id="orgfbe89ae">Interface and Communication Applications</h4>
<div class="outline-text-4" id="text-orgfbe89ae">
<ul class="org-ul">
<li><code>ei</code></li>
<li><code>erl_interface</code></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org23d4559" class="outline-3">
<h3 id="org23d4559">System Design Principles</h3>
<div class="outline-text-3" id="text-org23d4559">
<blockquote>
<p>
The third building block of OTP consists of a set of abstract principles, design
rules, and generic behaviors. The abstract principles describe the software
architecture of an Erlang system, using processes in the form of generic
behaviors as basic ingredients. Design rules keep the tools you use compatible
with the system you are developing. Using this approach provides a standard way
of solving problems, making code easier to understand and maintain, as well as
providing a common language and vocabulary among the teams.
</p>

<p>
OTP generic behaviors can be seen as formalizations of concurrent design
patterns. Behaviors are packaged into library modules containing generic code
that solves a common problem. They have built-in support for debugging, software
upgrade, generic error handling, and built-in functionality for
upgrades. (<a href="#citeproc_bib_item_1">Cesarini and Vinoski 2016, 10</a>)
</p>
</blockquote>
</div>
<div id="outline-container-orgf2e4efd" class="outline-4">
<h4 id="orgf2e4efd">Behaviors</h4>
<div class="outline-text-4" id="text-orgf2e4efd">
<blockquote>
<p>
Behaviours are a way of formalizing common patterns in process-oriented
programming. For example, the concept of a server is general and includes a
large portion of all processes you’ll ever need to write. All those processes
have a lot in common—in particular, whether they should be made to follow OTP
conventions for supervision and other things. (&#x2026;)
</p>

<p>
Instead, an OTP behaviour takes such a recurring pattern and divides it into two
halves: the generic part and the application-specific implementation part. These
communicate via a simple, well-defined interface. (<a href="#citeproc_bib_item_2">Logan, Merritt, and Carlsson 2010, 97</a>)
</p>
</blockquote>


<figure id="orgf58e9b3">
<img src="../static/img/notes/erlang_behaviour.png" alt="erlang_behaviour.png">

</figure>
</div>
<div id="outline-container-orgb938427" class="outline-5">
<h5 id="orgb938427">Components of a Behaviour</h5>
<div class="outline-text-5" id="text-orgb938427">
<blockquote>
<p>
The idea behind OTP behaviors is to split up the code into two modules: one for
the generic pattern, referred to as the behavior module, and one for specifics,
referred to as the callback module. The generic behavior module can be seen as
the driver. While it doesn’t know anything about what the callback module does,
it is aware of a set of exported callback functions it has to invoke and the
format of their return values. The callback module isn’t aware of what the
generic module does either; it only complies with the format of the data it has
to return when its callback functions are invoked.
</p>

<p>
(<a href="#citeproc_bib_item_1">Cesarini and Vinoski 2016, 81</a>)
</p>
</blockquote>

<ul class="org-ul">
<li>The interface</li>
<li>The implementation</li>
<li>The container</li>
</ul>
</div>
</div>
<div id="outline-container-orgbc7dd54" class="outline-5">
<h5 id="orgbc7dd54">Behavior Types</h5>
<div class="outline-text-5" id="text-orgbc7dd54">
<p>
OTP provides six behaviors that cover the majority of all cases:
</p>

<ul class="org-ul">
<li><a href="20250102194431-application_otp.html#ID-04a44951-985d-4b5b-bd52-f1893ea29ae7">Application (OTP)</a>: Implements the <code>application</code> behaviours, which is a way to
package related modules in Erlang.</li>
<li><a href="20241010094109-gen_server.html#ID-1cd8fd81-a7c4-44ea-8b7a-d803e9b491af">Gen Server</a>: An OTP generalization of the client/server model.</li>
<li><a href="20241013103835-supervisor.html#ID-2daf1307-afb4-49e4-98cb-66ac7eb27cf0">Supervisor</a>: Used to implement supervision trees.</li>
<li><a href="20250124104407-gen_statem.html#ID-2a24a73a-0ad2-4276-be47-03cf33d52bc0">Gen StateM</a> and : Both are implementations for State Machines, the
latter being deprecated in favor of the former.</li>
<li><a href="20241219134317-gen_event.html#ID-0372baa6-420e-483a-9621-7f80f1ad6974">Gen Event</a>: Used for building event handlers (like error loggers).</li>
</ul>

<p>
Among those, <code>gen_servers</code>, FSMs, and <code>gen_event</code> handlers are examples of workers
processes, i.e. they perform the bulk of the computations. Worker processes are
held together and monitored by <code>supervisors</code>, which themselves are part of
<code>applications</code>.
</p>
</div>
</div>
</div>
</div>
</div>
<div id="outline-container-org95bb296" class="outline-2">
<h2 id="org95bb296">Distribution, Infrastructure, and Multicore</h2>
</div>

<div id="outline-container-org6e90dc3" class="outline-2">
<h2 id="org6e90dc3">References:</h2>
<div class="outline-text-2" id="text-org6e90dc3">
<style>.csl-entry{text-indent: -1.5em; margin-left: 1.5em;}</style><div class="csl-bib-body">
  <div class="csl-entry"><a id="citeproc_bib_item_1"></a>Cesarini, Francesco, and Steve Vinoski. 2016. <i>Designing for Scalability with Erlang/Otp: Implement Robust, Fault-Tolerant Systems</i>. O’Reilly Media, Inc.</div>
  <div class="csl-entry"><a id="citeproc_bib_item_2"></a>Logan, Martin, Eric Merritt, and Richard Carlsson. 2010. <i>Erlang and Otp in Action</i>. Manning Publications Co.</div>
</div>
</div>
</div>
<div id="outline-container-orgca91ee1" class="outline-2">
<h2 id="orgca91ee1">Backlinks:</h2>
<div class="outline-text-2" id="text-orgca91ee1">
<ul class="org-ul">
<li><a href="./20250102194431-application_otp.html">Application (OTP)</a></li>
<li><a href="./20250124104407-gen_statem.html">Gen StateM</a></li>
<li><a href="./20250407171238-gen_fsm.html">Gen FSM</a></li>
<li><a href="./20241010093430-erlang_term_storage.html">Erlang Term Storage</a></li>
<li><a href="./20241219134317-gen_event.html">Gen Event</a></li>
<li><a href="./20241219210226-otp_logging.html">OTP Logging</a></li>
<li><a href="./20241013103835-supervisor.html">Supervisor</a></li>
<li><a href="./20241010094109-gen_server.html">Gen Server</a></li>
</ul>
</div>
</div>
</main>
<footer id="postamble" class="status">
<footer>
  </br>
  <p>
  Built with <a href="https://orgmode.org/">Orgmode</a>, <a href="https://www.gnu.org/software/emacs/">Emacs</a> and <a href="https://nixos.org/">Nix</a>, source code availiable <a href="https://github.com/schonfinkel/schonfinkel.github.io">here</a>.
  </p>
</footer>
</footer>
</body>
</html>
