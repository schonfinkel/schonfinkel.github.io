<!DOCTYPE html>
<html lang="en">
<head>
<!-- 2025-09-08 Mon 13:07 -->
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>PostgreSQL</title>
<meta name="author" content="Marcos Benevides" />
<meta name="generator" content="Org Mode" />
<link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">
<!-- syntax highlighting -->
<link rel="stylesheet" href="https://unpkg.com/@highlightjs/cdn-assets@11.9.0/styles/default.min.css">
<script src="https://unpkg.com/@highlightjs/cdn-assets@11.9.0/highlight.min.js"></script>
<script src="https://unpkg.com/@highlightjs/cdn-assets@11.9.0/languages/erlang.min.js"></script>
<script src="https://unpkg.com/@highlightjs/cdn-assets@11.9.0/languages/fsharp.min.js"></script>
<script src="https://unpkg.com/@highlightjs/cdn-assets@11.9.0/languages/nix.min.js"></script>
<script src="https://unpkg.com/@highlightjs/cdn-assets@11.9.0/languages/yaml.min.js"></script>
<!-- D3.js for the Org-roam graph -->
<script type="text/javascript" src ="https://d3js.org/d3.v7.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.9.0/d3.min.js"></script>
<!-- For LaTeX -->
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
<link href="https://schonfinkel.github.io/static/css/main.css" rel="stylesheet">
<script>
  MathJax = {
    tex: {
      displayMath: [['\\[', '\\]'], ['$$', '$$']],  // block
      inlineMath: [['\\(', '\\)']]                  // inline
    }
  };
</script>
</head>
<body>
<header id="preamble" class="status">
<nav>
  <img
    src="https://schonfinkel.github.io/static/img/logo.png"
    alt="logo"
    width="128"
    height="128"
  />
  <div>
    <h3>"Writing is nothing more than a guided dream."</h3>
  </div>
  <ul>
    <li><a href="https://schonfinkel.github.io/index.html">Home</a></li>
    <li><a href="https://schonfinkel.github.io/blog.html">Blog</a></li>
    <li><a href="https://schonfinkel.github.io/notes.html">Notes</a></li>
    <li><a href="https://schonfinkel.github.io/static/cv.pdf">CV</a></li>
    <li><a href="https://schonfinkel.github.io/static/blogroll.xml">BlogRoll</a></li>
    <li><a href="https://schonfinkel.github.io/rss.xml"><i class='bx bx-rss'></i></a></li>
  </ul>
</nav>
</header>
<main id="content" class="content">
<header>
<h1 class="title">PostgreSQL</h1>
</header><blockquote>
<p>
PostgreSQL is fully ACID-compliant (see the box below) and has a very strong
foundation in data integrity and concurrency. It ships with a procedural
language, named PL/PgSQL, which can be used to write reusable pieces of code,
such as functions and procedures, and it supports before and after triggers,
views, materialized views, partitioned tables, foreign data wrappers, multiple
schemas, generated columns, and so on. (<a href="#citeproc_bib_item_1">Ferrari and Pirozzi 2023, 3</a>)
</p>
</blockquote>
<div id="outline-container-org318d0c9" class="outline-2">
<h2 id="org318d0c9">A brief history of PostgreSQL</h2>
<div class="outline-text-2" id="text-org318d0c9">
<blockquote>
<p>
Ingres was a relational database developed by Professor Michael Stonebraker. In
1986, Professor Stonebraker started a post-Ingres project to develop new, cool
features in the database landscape and named this project POSTGRES
(POST-Ingres). The project aimed to develop an object-relational database, where
“object” means the user would have the capability to extend the database with
their own objects, such as data types, functions, and so on.
</p>

<p>
In 1994, POSTGRES was released with version 4.2 and an MIT license, which opened
up collaboration with other developers around the world. At that time, POSTGRES
was using an internal query language named QUEL. Two Berkeley students, Andrew
Yu and Jolly Chen, replaced the QUEL query language with the hot and cool <a href="20240928223026-sql.html#ID-11f7d9cc-51a6-4897-955b-37a756105677">SQL</a>
language, and the feature was so innovative that the project changed its name to
Postgre95 to emphasize the difference compared to other, preceding versions.
</p>

<p>
(<a href="#citeproc_bib_item_1">Ferrari and Pirozzi 2023, 4</a>)
</p>
</blockquote>
</div>
</div>
<div id="outline-container-org871a458" class="outline-2">
<h2 id="org871a458">Terminology</h2>
<div class="outline-text-2" id="text-org871a458">
<table>


<colgroup>
<col  class="org-left">

<col  class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Term</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>instance/cluster</code></td>
<td class="org-left">A running <code>PostgreSQL</code> daemon is called an instance (or cluster). A single instance can hold multiple databases.</td>
</tr>

<tr>
<td class="org-left"><code>database</code></td>
<td class="org-left">An isolated space where users/applications can store data.</td>
</tr>

<tr>
<td class="org-left"><code>schemas</code></td>
<td class="org-left">A <code>database</code> can be organized into flat namespaces called <code>schemas</code>, which can contain <code>database objects</code></td>
</tr>

<tr>
<td class="org-left"><code>database objects</code></td>
<td class="org-left">tables, schemas, indexes, triggers, etc.</td>
</tr>

<tr>
<td class="org-left"><code>postmaster</code></td>
<td class="org-left">The first process executed by the cluster, spawns a backend process everytime a connections is established.</td>
</tr>

<tr>
<td class="org-left"><code>PGDATA</code></td>
<td class="org-left">The persistent directory dedicated to PostgreSQL.</td>
</tr>

<tr>
<td class="org-left"><code>WAL</code></td>
<td class="org-left">Logs all changes to tables/indexes, used to recover from critical crashes.</td>
</tr>
</tbody>
</table>

<blockquote>
<p>
Users are defined at a cluster-wide level, which means they are not tied to a
particular database in the cluster. A user can connect with and manage any
database in the cluster they are allowed to.
(<a href="#citeproc_bib_item_1">Ferrari and Pirozzi 2023, 7</a>)
</p>
</blockquote>

<p>
In PostgreSQL, users are split into the following:
</p>

<table>


<colgroup>
<col  class="org-left">

<col  class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">User Type</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Normal</td>
<td class="org-left">Can connect handle database objects, if their permissions allow them to do so.</td>
</tr>

<tr>
<td class="org-left">Superuser</td>
<td class="org-left">Can do anything on any database objects and control the cluster life-cycle.</td>
</tr>
</tbody>
</table>

<blockquote>
<p>
PostgreSQL internal data, such as users, databases, namespaces, configuration,
and database runtime status, is provided by means of <b>catalogs</b>: special tables
and views that present information in a SQL-interactive way. Many catalogs are
trimmed depending on the user who is inspecting them, with the exception that
superusers usually see the whole set of available information.
</p>

<p>
(<a href="#citeproc_bib_item_1">Ferrari and Pirozzi 2023, 7</a>)
</p>
</blockquote>
</div>
</div>
<div id="outline-container-org4d71c7f" class="outline-2">
<h2 id="org4d71c7f">Architecture</h2>
<div class="outline-text-2" id="text-org4d71c7f">
</div>
<div id="outline-container-org7a73de3" class="outline-3">
<h3 id="org7a73de3">Client/Server</h3>
<div class="outline-text-3" id="text-org7a73de3">
<div class="org-src-container">
<pre class="src src-sql">  SHOW max_connections;
</pre>
</div>
</div>
</div>
<div id="outline-container-org0e0788a" class="outline-3">
<h3 id="org0e0788a">Memory</h3>
<div class="outline-text-3" id="text-org0e0788a">
</div>
<div id="outline-container-org318fd22" class="outline-4">
<h4 id="org318fd22">Shared Buffers</h4>
<div class="outline-text-4" id="text-org318fd22">
<ul class="org-ul">
<li>Shared by all server processes.</li>
<li>Keeps frequently accessed objects in memory for faster retrieval.</li>
<li>Defaults to 128 MB.</li>
</ul>

<div class="org-src-container">
<pre class="src src-sql">  SHOW shared_buffers;
</pre>
</div>
</div>
</div>
<div id="outline-container-orgf350f20" class="outline-4">
<h4 id="orgf350f20">Local Memory</h4>
<div class="outline-text-4" id="text-orgf350f20">
<p>
It's the memory allocated to each backend process.
</p>

<table>


<colgroup>
<col  class="org-left">

<col  class="org-left">

<col  class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Kind</th>
<th scope="col" class="org-left">Description</th>
<th scope="col" class="org-left">Default</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>work_mem</code></td>
<td class="org-left">Sorting &amp; Hash tables</td>
<td class="org-left">1 MB</td>
</tr>

<tr>
<td class="org-left"><code>temp_buffers</code></td>
<td class="org-left">Temporary Tables</td>
<td class="org-left">8 MB</td>
</tr>

<tr>
<td class="org-left"><code>maintenance_work_mem</code></td>
<td class="org-left">VACUUM and <code>CREATE INDEX</code> operations</td>
<td class="org-left">64 MB</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div id="outline-container-org29a4465" class="outline-2">
<h2 id="org29a4465">References:</h2>
<div class="outline-text-2" id="text-org29a4465">
<style>.csl-entry{text-indent: -1.5em; margin-left: 1.5em;}</style><div class="csl-bib-body">
  <div class="csl-entry"><a id="citeproc_bib_item_1"></a>Ferrari, Luca, and Enrico Pirozzi. 2023. <i>Learn Postgresql: Use, Manage, and Build Secure and Scalable Databases with Postgresql 16</i>. 2nd ed. Packt Publishing Ltd.</div>
</div>
</div>
</div>
<div id="outline-container-orgcd278ce" class="outline-2">
<h2 id="orgcd278ce">Backlinks:</h2>
<div class="outline-text-2" id="text-orgcd278ce">
<ul class="org-ul">
<li><a href="./20241001144549-postgres_cluster.html">PostgreSQL Cluster</a></li>
<li><a href="./20250329193401-frontend_backend_protocol_postgresql.html">Frontend/Backend Protocol (PostgresSQL)</a></li>
<li><a href="./20250318081855-pgroll.html">pgroll</a></li>
<li><a href="./20240921191551-ctes_postgresql.html">CTE (PostgreSQL)</a></li>
<li><a href="./20240921194441-functions_and_operators_postgresql.html">Functions and Operators (PostgreSQL)</a></li>
<li><a href="./20240921194608-index_postgresql.html">Index (PostgreSQL)</a></li>
<li><a href="./20250227094208-system_columns_postgresql.html">System Columns (PostgreSQL)</a></li>
<li><a href="./20240918131408-statements_postgresql.html">Statements (PostgreSQL)</a></li>
<li><a href="./20250219153557-postgresql_repl.html">PostgreSQL REPL</a></li>
<li><a href="./20250220091912-data_types_postgresql.html">Data Types (PostgreSQL)</a></li>
<li><a href="./20250313191626-full_text_search_postgresql.html">Full Text Search (PostgreSQL)</a></li>
<li><a href="./20250227213002-performance_optimization_postgres.html">Performance Optimization (PostgreSQL)</a></li>
<li><a href="./20250313193454-json_postgresql.html">JSON (PostgreSQL)</a></li>
</ul>
</div>
</div>
</main>
<footer id="postamble" class="status">
<footer>
  </br>
  <p>
  Built with <a href="https://orgmode.org/">Orgmode</a>, <a href="https://www.gnu.org/software/emacs/">Emacs</a> and <a href="https://nixos.org/">Nix</a>, source code availiable <a href="https://github.com/schonfinkel/schonfinkel.github.io">here</a>.
  </p>
</footer>
</footer>
</body>
</html>
