<!DOCTYPE html>
<html lang="en">
<head>
<!-- 2025-10-12 Sun 14:59 -->
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Sequential Erlang</title>
<meta name="author" content="Marcos Benevides" />
<meta name="generator" content="Org Mode" />
<link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
<!-- syntax highlighting -->
<link rel="stylesheet" href="https://unpkg.com/@highlightjs/cdn-assets@11.9.0/styles/default.min.css">
<script src="https://unpkg.com/@highlightjs/cdn-assets@11.9.0/highlight.min.js"></script>
<script src="https://unpkg.com/@highlightjs/cdn-assets@11.9.0/languages/erlang.min.js"></script>
<script src="https://unpkg.com/@highlightjs/cdn-assets@11.9.0/languages/fsharp.min.js"></script>
<script src="https://unpkg.com/@highlightjs/cdn-assets@11.9.0/languages/nix.min.js"></script>
<script src="https://unpkg.com/@highlightjs/cdn-assets@11.9.0/languages/yaml.min.js"></script>
<!-- D3.js for the Org-roam graph -->
<script type="text/javascript" src ="https://d3js.org/d3.v7.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.9.0/d3.min.js"></script>
<!-- For LaTeX -->
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/tex-mml-chtml.js" defer></script>
<link href="https://schonfinkel.github.io/static/css/main.css" rel="stylesheet">
<script>
  MathJax = {
    tex: {
      displayMath: [['\\[', '\\]'], ['$$', '$$']],
      inlineMath: [['\\(', '\\)']]
    }
  };
</script>
</head>
<body>
<header id="preamble" class="status">
<nav>
  <img
    src="https://schonfinkel.github.io/static/img/logo.png"
    alt="logo"
    width="128"
    height="128"
  />
  <div>
    <h3>"Writing is nothing more than a guided dream."</h3>
  </div>
  <ul>
    <li><a href="https://schonfinkel.github.io/index.html">Home</a></li>
    <li><a href="https://schonfinkel.github.io/blog.html">Blog</a></li>
    <li><a href="https://schonfinkel.github.io/notes.html">Notes</a></li>
    <li><a href="https://schonfinkel.github.io/static/cv.pdf">Resume</a></li>
    <li><a href="https://schonfinkel.github.io/static/blogroll.xml">BlogRoll</a></li>
    <li><a href="https://schonfinkel.github.io/rss.xml"><i class='bx bx-rss'></i></a></li>
  </ul>
</nav>
</header>
<main id="content" class="content">
<header>
<h1 class="title">Sequential Erlang</h1>
</header><p>
The basic constructs of the <a href="20240619114451-erlang.html#ID-de7d0e94-618f-4982-b3e5-8806d88cad5d">Erlang</a> language.
</p>
<div id="outline-container-org8cf5cff" class="outline-2">
<h2 id="org8cf5cff">Datatypes</h2>
<div class="outline-text-2" id="text-org8cf5cff">
</div>
<div id="outline-container-org45e0114" class="outline-3">
<h3 id="org45e0114">Numerical Types</h3>
<div class="outline-text-3" id="text-org45e0114">
</div>
<div id="outline-container-orgfaf7236" class="outline-4">
<h4 id="orgfaf7236">Integers</h4>
<div class="outline-text-4" id="text-orgfaf7236">
<ul class="org-ul">
<li>Large Integers are converted to <code>bignums</code></li>
</ul>

<blockquote>
<p>
If you need to do calculations on integers using a base other than 10, you can use
Base#Value notation. (<a href="#citeproc_bib_item_4">Laurent 2017, 7</a>)
</p>
</blockquote>
</div>
</div>
<div id="outline-container-orgc4f9766" class="outline-4">
<h4 id="orgc4f9766">Floats</h4>
<div class="outline-text-4" id="text-orgc4f9766">
<ul class="org-ul">
<li>When you divide two integers with <code>/</code>, the result is automatically converted to a floating-point number.</li>
</ul>
</div>
</div>
<div id="outline-container-org79f2ec9" class="outline-4">
<h4 id="org79f2ec9">Mathematical Operations</h4>
<div class="outline-text-4" id="text-org79f2ec9">
<table>


<colgroup>
<col  class="org-left">

<col  class="org-left">

<col  class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Operation</th>
<th scope="col" class="org-left">Description</th>
<th scope="col" class="org-left">Types</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>+</code></td>
<td class="org-left">Unary <code>+</code></td>
<td class="org-left"><code>Integer</code> or <code>Float</code></td>
</tr>

<tr>
<td class="org-left"><code>-</code></td>
<td class="org-left">Unary <code>-</code></td>
<td class="org-left"><code>Integer</code> or <code>Float</code></td>
</tr>

<tr>
<td class="org-left"><code>+</code></td>
<td class="org-left">Addition</td>
<td class="org-left"><code>Integer</code> or <code>Float</code></td>
</tr>

<tr>
<td class="org-left"><code>-</code></td>
<td class="org-left">Subtraction</td>
<td class="org-left"><code>Integer</code> or <code>Float</code></td>
</tr>

<tr>
<td class="org-left"><code>*</code></td>
<td class="org-left">Multiplication</td>
<td class="org-left"><code>Integer</code> or <code>Float</code></td>
</tr>

<tr>
<td class="org-left"><code>/</code></td>
<td class="org-left">Floating Point Division</td>
<td class="org-left"><code>Integer</code> or <code>Float</code></td>
</tr>

<tr>
<td class="org-left"><code>div</code></td>
<td class="org-left">Integer Division</td>
<td class="org-left"><code>Integer</code></td>
</tr>

<tr>
<td class="org-left"><code>rem</code></td>
<td class="org-left">Modulus Operation (Remainder)</td>
<td class="org-left"><code>Integer</code></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="outline-container-org33adfc2" class="outline-3">
<h3 id="org33adfc2">Atoms</h3>
<div class="outline-text-3" id="text-org33adfc2">
<ul class="org-ul">
<li>In Erlang, atoms are used to represent constant values.</li>
<li>Atoms are also global, and this is achieved without the use of macro
definitions or include files.</li>
</ul>
</div>
</div>
<div id="outline-container-orgf8e39e6" class="outline-3">
<h3 id="orgf8e39e6">Tuples</h3>
<div class="outline-text-3" id="text-orgf8e39e6">
<ul class="org-ul">
<li>Represents a collection of elements (of any type) that are grouped together.</li>
<li>Access is normally done by position.</li>
<li>A tuple whose first element is an atom is called a <code>tagged</code> tuple, i.e., <code>{book,
  "The Aleph"}</code>.</li>
</ul>

<blockquote>
<p>
Tuples are created automatically when we declare them and are destroyed when
they can no longer be used. Erlang uses a garbage collector to reclaim all
unused memory, so we don’t have to worry about memory
allocation. (<a href="#citeproc_bib_item_1">Armstrong 2013, 35</a>)
</p>
</blockquote>

<p>
You can also pattern match tuples by using free variables:
</p>
<div class="org-src-container">
<pre class="src src-shell">  1&gt; Point = {point, 10, 45}<span style="font-weight: bold;">.</span>
  {point,10,45}
  2&gt; {point, X, Y} = Point.
  {point,10,45}
  3&gt; X.
  10
  4&gt; Y.
  45
</pre>
</div>
</div>
</div>
<div id="outline-container-org2303da0" class="outline-3">
<h3 id="org2303da0">Lists</h3>
<div class="outline-text-3" id="text-org2303da0">
<ul class="org-ul">
<li>A list is a compound data type with a variable number of terms:
<code>[Term1,...,TermN]</code>.</li>
<li>Access is normally done by parttern matching.</li>
<li>One can add or iterate over lists with the <code>cons</code> operator <code>|</code>, which breaks a
list into <code>H|T</code> (<code>head</code> and <code>tail</code>),</li>
</ul>

<div class="org-src-container">
<pre class="src src-nil">  List = [ Element | List ] OR []
</pre>
</div>
</div>
<div id="outline-container-org8e09bf5" class="outline-4">
<h4 id="org8e09bf5">List Comprehensions</h4>
<div class="outline-text-4" id="text-org8e09bf5">
<div class="org-src-container">
<pre class="src src-shell">  1&gt; L = [1,2,3,4,5,6,7].
  [1,2,3,4,5,6,7]
  2&gt; [ 2*X || X &lt;- L ].
  [2,4,6,8,10,12,14]
  3&gt; [ math:pow(X,2) || X &lt;- L, X &gt; 0, X rem 2 == 0 ]

</pre>
</div>

<blockquote>
<p>
The most general form of a list comprehension is an expression of the following
form: <code>[X || Qualifier1, Qualifier2, ...]</code>, where <code>X</code> is an arbitrary expression,
and each qualifier is either a generator, a bitstring generator, or a filter.
</p>

<ul class="org-ul">
<li>Generators are written as <code>Pattern &lt;- ListExpr</code> where <code>ListExpr</code> must be an expression that evaluates to a list of terms.</li>
<li>Bitstring generators are written as <code>BitStringPattern &lt;= BitStringExpr</code> where <code>BitStringExpr</code> must be an expression that evaluates to a bitstring.</li>
<li>Filters are either predicates or boolean expressions. (<a href="#citeproc_bib_item_1">Armstrong 2013, 61</a>)</li>
</ul>
</blockquote>
</div>
</div>
</div>
<div id="outline-container-org7184b82" class="outline-3">
<h3 id="org7184b82">Strings</h3>
<div class="outline-text-3" id="text-org7184b82">
<blockquote>
<p>
Strictly speaking, there are no strings in Erlang. To represent a string in
Erlang, we can choose between representing the string as a list of integers or
as a binary. When a string is represented as a list of integers, each element in
the list represents a Unicode codepoint.
</p>
</blockquote>

<p>
To print a unicode string one must use the "t" modifier applied to the "s"
control character in a formatting string, it accepts all Unicode codepoints and
expect binaries to be in UTF-8:
</p>

<div class="org-src-container">
<pre class="src src-shell">  1&gt; X = <span style="font-style: italic;">"a\x{221e}b"</span>.
  [97,8734,98]
  2&gt; io:format(<span style="font-style: italic;">"~ts~n"</span>,[X])<span style="font-weight: bold;">.</span>
  a&#8734;b
  ok
</pre>
</div>
</div>
</div>
<div id="outline-container-org72209d7" class="outline-3">
<h3 id="org72209d7">Records</h3>
<div class="outline-text-3" id="text-org72209d7">
<blockquote>
<p>
(&#x2026;) records provide a convenient way for associating a tag
with each of the elements in a tuple. This allows us to refer to an
element of a tuple by name and not by position. A pre-compiler
takes the record definition and replaces it with the appropriate tuple
reference. (<a href="#citeproc_bib_item_1">Armstrong 2013</a>)
</p>
</blockquote>

<div class="org-src-container">
<pre class="src src-erlang">  -record(todo, {status=reminder,who=joe,text}).
</pre>
</div>

<p>
to load a record from the the shell, one must use the <code>rr</code> command:
</p>

<div class="org-src-container">
<pre class="src src-shell">  1&gt; rr(<span style="font-style: italic;">"records.hrl"</span>)<span style="font-weight: bold;">.</span>
  [todo]
  2&gt; <span style="font-weight: bold; font-style: italic;">#</span><span style="font-weight: bold; font-style: italic;">todo{}.</span>
  <span style="font-weight: bold; font-style: italic;">#</span><span style="font-weight: bold; font-style: italic;">todo{status = reminder,who = joe,text = undefined}</span>
  3&gt; X1 = <span style="font-weight: bold; font-style: italic;">#</span><span style="font-weight: bold; font-style: italic;">todo{status=urgent, text="Fix errata in book"}.</span>
  <span style="font-weight: bold; font-style: italic;">#</span><span style="font-weight: bold; font-style: italic;">todo{status = urgent,who = joe,text = "Fix errata in book"}</span>
  4&gt; X2 = X1#todo{<span style="font-weight: bold; font-style: italic;">status</span>=done}<span style="font-weight: bold;">.</span>
  <span style="font-weight: bold; font-style: italic;">#</span><span style="font-weight: bold; font-style: italic;">todo{status = done,who = joe,text = "Fix errata in book"}</span>
</pre>
</div>
</div>
<div id="outline-container-org2d71cf1" class="outline-4">
<h4 id="org2d71cf1">Record BIFs</h4>
<div class="outline-text-4" id="text-org2d71cf1">
<ul class="org-ul">
<li><code>record_info/2</code></li>
<li><code>is_record/1</code></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org3a2e848" class="outline-3">
<h3 id="org3a2e848">Maps</h3>
<div class="outline-text-3" id="text-org3a2e848">
<p>
Maps are associative collections of key-value pairs.
</p>

<div class="org-src-container">
<pre class="src src-shell">  1&gt; TaskPending = <span style="font-weight: bold; font-style: italic;">#</span><span style="font-weight: bold; font-style: italic;">{ status =&gt; pending, description =&gt; 'feed cats' }.</span>
  <span style="font-weight: bold; font-style: italic;">#</span><span style="font-weight: bold; font-style: italic;">{status =&gt; pending,description =&gt; 'feed cats'}</span>
  2&gt; TaskDone = TaskPending#{ status := done }<span style="font-weight: bold;">.</span>
  <span style="font-weight: bold; font-style: italic;">#</span><span style="font-weight: bold; font-style: italic;">{status =&gt; done,description =&gt; 'feed cats'}</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgdbde4a3" class="outline-3">
<h3 id="orgdbde4a3">Binaries and Bitstrings)</h3>
<div class="outline-text-3" id="text-orgdbde4a3">
<blockquote>
<p>
A binary is a sequence of unsigned 8-bit bytes, used for storing and processing
chunks of data (often data that comes from a file or has been received over a
network protocol). (<a href="#citeproc_bib_item_5">Logan, Merritt, and Carlsson 2010, 30</a>)
</p>
</blockquote>

<blockquote>
<p>
A bitstring is written as <code>&lt;&lt; Segment1, ..., SegmentN &gt;&gt;</code>, with zero or more
segment specifiers between the double less-than/greater-than delimiters. The
total length of the bitstring, in bits, is exactly the sum of the lengths of the
segments.
</p>

<p>
A segment specifier can be on one of the following forms:
</p>
<ul class="org-ul">
<li><code>Data</code></li>
<li><code>Data:Size</code></li>
<li><code>Data/TypeSpecifiers</code></li>
<li><code>Data:Size/TypeSpecifiers</code></li>
</ul>

<p>
(<a href="#citeproc_bib_item_5">Logan, Merritt, and Carlsson 2010, 67</a>)
</p>
</blockquote>

<p>
A possible set of <code>TypeSpecifiers</code> is the following:
</p>

<ul class="org-ul">
<li><code>integer</code>, <code>float</code>, <code>binary</code>, <code>bytes</code>, <code>bitstring</code>, <code>bits</code>, <code>utf8</code>, <code>utf16</code>, <code>utf32</code> as base types.</li>
<li>Extra qualifiers like <code>signed</code>, <code>unsigned</code> or <code>big</code>, <code>little</code>, <code>native</code> can also be used
and need to be separated by hyphens (i.e. <code>integer-unsigned-big</code>).</li>
</ul>
</div>
<div id="outline-container-org804350e" class="outline-4">
<h4 id="org804350e">Bitstring comprehensions</h4>
<div class="outline-text-4" id="text-org804350e">
<p>
Similar to Lists Comprehensions, we can do bitstring comprehension:
</p>
</div>
</div>
<div id="outline-container-org0494429" class="outline-4">
<h4 id="org0494429">Bitwise operations</h4>
<div class="outline-text-4" id="text-org0494429">
<table>


<colgroup>
<col  class="org-left">

<col  class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Operator</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>band/1</code></td>
<td class="org-left">Bitwise and</td>
</tr>

<tr>
<td class="org-left"><code>bor/1</code></td>
<td class="org-left">Bitwise or</td>
</tr>

<tr>
<td class="org-left"><code>bxor/1</code></td>
<td class="org-left">Bitwise xor</td>
</tr>

<tr>
<td class="org-left"><code>bnot/1</code></td>
<td class="org-left">Bitwise negation</td>
</tr>

<tr>
<td class="org-left"><code>bsl/2</code></td>
<td class="org-left">Bitshift Left</td>
</tr>

<tr>
<td class="org-left"><code>bsr/2</code></td>
<td class="org-left">Bitshoft right</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="outline-container-org6ca6059" class="outline-3">
<h3 id="org6ca6059">Identifiers</h3>
<div class="outline-text-3" id="text-org6ca6059">
</div>
<div id="outline-container-orgcd6c2f3" class="outline-4">
<h4 id="orgcd6c2f3">Pids</h4>
<div class="outline-text-4" id="text-orgcd6c2f3">
<blockquote>
<p>
Every process has a unique identifier, usually referred to as a <i>pid</i>. Pids are a
special data type in Erlang and should be thought of as opaque
objects. (<a href="#citeproc_bib_item_5">Logan, Merritt, and Carlsson 2010, 35</a>)
</p>
</blockquote>
</div>
</div>
<div id="outline-container-orgae8a49f" class="outline-4">
<h4 id="orgae8a49f">Ports</h4>
<div class="outline-text-4" id="text-orgae8a49f">
<blockquote>
<p>
A port is much like a process, except that it can also communicate with the
world outside Erlang (&#x2026;). Hence, port identifiers are closely related to pids,
and the shell prints them on the form <code>#Port&lt;0.472&gt;</code>. (<a href="#citeproc_bib_item_5">Logan, Merritt, and Carlsson 2010, 36</a>)
</p>
</blockquote>

<p>
For more details about Ports, check the <a href="20241129191851-erlang_interface.html#ID-6422d659-d57d-4672-a90a-0649b5cbe905">Erlang Interface</a> notes.
</p>
</div>
</div>
<div id="outline-container-org135866f" class="outline-4">
<h4 id="org135866f">References</h4>
<div class="outline-text-4" id="text-org135866f">
<blockquote>
<p>
References in Erlang are used to guarantee the identity of messages, monitors,
and other data types or requests. A reference can be generated indirectly by
setting up a monitor, but also directly by calling the BIF
<code>make_ref/0</code>. References are, for all intents and purposes, unique across a
multinode Erlang system. (<a href="#citeproc_bib_item_3">Cesarini and Vinoski 2016, 38</a>)
</p>
</blockquote>
</div>
</div>
</div>
<div id="outline-container-orgea9ab01" class="outline-3">
<h3 id="orgea9ab01">Macros</h3>
<div class="outline-text-3" id="text-orgea9ab01">
<p>
Erlang has a macro facility, implemented by the Erlang preprocessor (<code>epp</code>), which is invoked prior to compilation of source code into BEAM code.
</p>

<div class="org-src-container">
<pre class="src src-erlang">  %% Constants
  -define(ANSWER,42).
  -define(DOUBLE,2*).

  %% Or more complex patterns
  -define(TWICE(F,X),F(F(X))).
</pre>
</div>
</div>
<div id="outline-container-orgd0a9816" class="outline-4">
<h4 id="orgd0a9816">Parametrized Macros</h4>
<div class="outline-text-4" id="text-orgd0a9816">
<blockquote>
<p>
Macros can take parameters which are indicated by variable names. The general
form for parameterized macros is:
</p>

<p>
<code>-define(Name(Var1,Var2,...,VarN), Replacement).</code>
</p>

<p>
where, as for normal Erlang variables, the variables <code>Var1</code>, <code>Var2</code>, &#x2026;, <code>VarN</code> need
to begin with a capital letter.
</p>

<p>
(<a href="#citeproc_bib_item_2">Cesarini and Thompson 2009, 166 chap.7</a>)
</p>
</blockquote>

<div class="org-src-container">
<pre class="src src-erlang">  -define(Multiple(X,Y),X rem Y == 0).
  
  tstFun(Z,W) when ?Multiple(Z,W) -&gt; true;
  tstFun(Z,W) -&gt; false.
</pre>
</div>
</div>
</div>
<div id="outline-container-org121253d" class="outline-4">
<h4 id="org121253d">Conditional Macros</h4>
<div class="outline-text-4" id="text-org121253d">
<ul class="org-ul">
<li><code>-undef(Flag)</code></li>
<li><code>-ifdef(Flag)</code></li>
<li><code>-ifndef(Flag)</code></li>
<li><code>-else(Flag)</code></li>
<li><code>-endif</code></li>
</ul>

<div class="org-src-container">
<pre class="src src-erlang">  -ifdef(debug).
    -define(DBG(Str, Args), io:format(Str, Args)).
  -else.
    -define(DBG(Str, Args), ok).
  -endif.
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orge7e0305" class="outline-3">
<h3 id="orge7e0305">Include Files</h3>
<div class="outline-text-3" id="text-orge7e0305">
<blockquote>
<p>
It is customary to put record and macro definitions into an include file so that
they can be shared across multiple modules throughout a project, and not simply
in a single module. To make the definitions available to more than one module,
you place them in a separate file and include them in a module using the
<code>–include</code> directive, usually placed after the module and export directives:
</p>

<p>
<code>-include("File.hrl").</code>
</p>

<p>
(<a href="#citeproc_bib_item_2">Cesarini and Thompson 2009, 168 chap.7</a>)
</p>
</blockquote>
</div>
</div>
</div>
<div id="outline-container-orgf234c9c" class="outline-2">
<h2 id="orgf234c9c">Term Comparisson</h2>
<div class="outline-text-2" id="text-orgf234c9c">
<blockquote>
<p>
Using the exactly equal and not exactly equal operators will provide the
compiler and type tools with more information and result in more efficient
code. (<a href="#citeproc_bib_item_2">Cesarini and Thompson 2009, 28</a>)
</p>
</blockquote>

<table>


<colgroup>
<col  class="org-left">

<col  class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Operator</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>==</code></td>
<td class="org-left">Equal to</td>
</tr>

<tr>
<td class="org-left"><code>/=</code></td>
<td class="org-left">Not equal to</td>
</tr>

<tr>
<td class="org-left"><code>=:=</code></td>
<td class="org-left">Exactly equal to</td>
</tr>

<tr>
<td class="org-left"><code>=/=</code></td>
<td class="org-left">Exactly not equal to</td>
</tr>

<tr>
<td class="org-left"><code>=&lt;</code></td>
<td class="org-left">Less than or equal to</td>
</tr>

<tr>
<td class="org-left"><code>&gt;=</code></td>
<td class="org-left">Greater than or equal to</td>
</tr>

<tr>
<td class="org-left"><code>&lt;</code></td>
<td class="org-left">Less than</td>
</tr>

<tr>
<td class="org-left"><code>&gt;</code></td>
<td class="org-left">Greater than</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-orga75edab" class="outline-2">
<h2 id="orga75edab">Variables</h2>
<div class="outline-text-2" id="text-orga75edab">
<blockquote>
<p>
Note that Erlang variables start with uppercase characters. So, <code>X</code>, <code>This</code>, and
<code>A_long_name</code> are all variables. Names beginning with lowercase letters—for example,
<code>monday</code> or <code>friday</code> are not variables but are symbolic constants called 
atoms. (<a href="#citeproc_bib_item_1">Armstrong 2013</a>)
</p>
</blockquote>

<ul class="org-ul">
<li>Erlang Variables Do Not Vary</li>
<li>The scope of a variable is the lexical unit in which it is defined.</li>
<li>Variables acquire values as the result of a successful pattern matching
operation (<code>=</code>).</li>
</ul>
</div>
</div>
<div id="outline-container-orgf75c861" class="outline-2">
<h2 id="orgf75c861">Pattern Matching</h2>
<div class="outline-text-2" id="text-orgf75c861">
<p>
Pattern matching is used for:
</p>
<ul class="org-ul">
<li>Assigning values to variables</li>
<li>Redirecting execution flows</li>
</ul>
</div>
<div id="outline-container-orga4255bf" class="outline-3">
<h3 id="orga4255bf">case and if Expressions</h3>
<div class="outline-text-3" id="text-orga4255bf">
<div class="org-src-container">
<pre class="src src-erlang">  case Expression of
    Pattern1 [when Guard1] -&gt; Expr_seq1;
    Pattern2 [when Guard2] -&gt; Expr_seq2;
    ...
  end

  if
    Guard1 -&gt; Expr_seq1;
    Guard2 -&gt; Expr_seq2;
    ...
  end
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orga603215" class="outline-2">
<h2 id="orga603215">Functions</h2>
<div class="outline-text-2" id="text-orga603215">
</div>
<div id="outline-container-orgdbc84f3" class="outline-3">
<h3 id="orgdbc84f3">Built-in Functions</h3>
<div class="outline-text-3" id="text-orgdbc84f3">
<ul class="org-ul">
<li>Conventionally, these are part of the <code>erlang</code> module.</li>
<li>Mostly written in C for fast execution.</li>
</ul>
</div>
<div id="outline-container-org29daf8c" class="outline-4">
<h4 id="org29daf8c">Useful BIFs</h4>
<div class="outline-text-4" id="text-org29daf8c">
<ul class="org-ul">
<li><code>date/0</code></li>
<li><code>now/0</code> and <code>now/1</code></li>
<li><code>time/0</code></li>
</ul>
</div>
</div>
<div id="outline-container-org0d7e5ae" class="outline-4">
<h4 id="org0d7e5ae">List BIFs</h4>
<div class="outline-text-4" id="text-org0d7e5ae">
<ul class="org-ul">
<li><code>hd/1</code></li>
<li><code>tl/1</code></li>
<li><code>length(List)</code></li>
</ul>
</div>
</div>
<div id="outline-container-org4764edb" class="outline-4">
<h4 id="org4764edb">Tuple BIFs</h4>
<div class="outline-text-4" id="text-org4764edb">
<ul class="org-ul">
<li><code>setelement/3</code></li>
<li><code>size/1</code></li>
<li><code>erlang:append_element/2</code></li>
</ul>
</div>
</div>
<div id="outline-container-org0b0ee51" class="outline-4">
<h4 id="org0b0ee51">Type conversion BIFs</h4>
<div class="outline-text-4" id="text-org0b0ee51">
<ul class="org-ul">
<li><code>atom_to_list/1</code> and <code>list_to_atom/1</code></li>
<li><code>list_to_tuple/1</code> and <code>tuple_to_list/1</code></li>
<li><code>float/1</code> and <code>list_to_float/1</code></li>
<li><code>float_to_list/1</code> and <code>integer_to_list/1</code></li>
<li><code>round/1</code>, <code>trunc/1</code> and <code>list_to_integer/1</code></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org2815d16" class="outline-3">
<h3 id="org2815d16">Funs: The Basic Unit of Abstraction</h3>
<div class="outline-text-3" id="text-org2815d16">
<p>
<code>Funs</code> are function closures. <code>Funs</code> are created by expressions of the form: <code>fun(...) -&gt; ... end</code>.
</p>
</div>
<div id="outline-container-org587e538" class="outline-4">
<h4 id="org587e538">Defining Your Own Control Abstractions</h4>
<div class="outline-text-4" id="text-org587e538">
<p>
If we want additional control structures, we can make our own. Erlang has no for loop, so let’s make one:
</p>
<div class="org-src-container">
<pre class="src src-erlang">  for(Max, Max, F) -&gt; [F(Max)];
  for(I, Max, F) -&gt; [F(I)|for(I+1, Max, F)].
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org80d80e5" class="outline-3">
<h3 id="org80d80e5">Recursion</h3>
<div class="outline-text-3" id="text-org80d80e5">
</div>
<div id="outline-container-orgc0d25c1" class="outline-4">
<h4 id="orgc0d25c1">Tail Recursion</h4>
</div>
</div>
</div>
<div id="outline-container-org7319b99" class="outline-2">
<h2 id="org7319b99">Guards</h2>
<div class="outline-text-2" id="text-org7319b99">
<blockquote>
<p>
A guard consists of a when keyword followed by a guard expression. The clause
will be selected only if the pattern matches and the guard expression evaluate
to the atom true. (<a href="#citeproc_bib_item_2">Cesarini and Thompson 2009, 50</a>)
</p>
</blockquote>

<div class="org-src-container">
<pre class="src src-nil">  %% G1, G2 can be parsed as G1 v G2 and the ';' can be read as an '^', so
  %% it is possible to write very complex guards such as:
  %%    (G1 v G2) ^ (G3 v ... v GK)
  f(Arg1, Arg2, ..., ArgN) when G1(...), G2(...); G3(...), ..., GK(...) -&gt;
    Expr.
</pre>
</div>
</div>
</div>
<div id="outline-container-org531fabe" class="outline-2">
<h2 id="org531fabe">Modules</h2>
<div class="outline-text-2" id="text-org531fabe">
<blockquote>
<p>
Erlang definitions are contained in modules, which are stored in files of the
same name, but with a <code>.erl</code> extension. (&#x2026;). Erlang programs can be evaluated
in the <a href="20241004123538-erlang_shell.html#ID-bcd04f60-0a4c-4213-90f7-139c0ddf5bef">Erlang Shell</a>, invoked by the command <code>erl</code> in your Unix
shell. (<a href="#citeproc_bib_item_3">Cesarini and Vinoski 2016, 22</a>)
</p>
</blockquote>
</div>
<div id="outline-container-org50ff3a5" class="outline-3">
<h3 id="org50ff3a5">Defining Modules</h3>
<div class="outline-text-3" id="text-org50ff3a5">
<div class="org-src-container">
<pre class="src src-erlang">    -module(drop).
    -export([fall_velocity/1, mps_to_mph/1, mps_to_kph/1]).

    fall_velocity(Distance) -&gt; math:sqrt(2 * 9.8 * Distance).
    mps_to_mph(Mps) -&gt; 2.23693629 * Mps.
    mps_to_kph(Mps) -&gt; 3.6 * Mps.
</pre>
</div>
</div>
</div>
<div id="outline-container-org166e3d2" class="outline-3">
<h3 id="org166e3d2">Upgrading Modules</h3>
<div class="outline-text-3" id="text-org166e3d2">
<blockquote>
<p>
One of the advantages of dynamic typing is the ability to upgrade your code
during runtime, without the need to take down the system. One second, you are
running a buggy version of a module, but you can load a fix without terminating
the process and it starts running the fixed version, retaining its state and
variables. (&#x2026;) At any one time, two versions of a module may exist in the
virtual machine: the old and current versions.
</p>

<p>
(<a href="#citeproc_bib_item_3">Cesarini and Vinoski 2016, 43</a>)
</p>
</blockquote>
</div>
</div>
</div>
<div id="outline-container-org509290b" class="outline-2">
<h2 id="org509290b">Error Handling in Sequential Programs</h2>
<div class="outline-text-2" id="text-org509290b">
<div class="org-src-container">
<pre class="src src-erlang">  try FuncOrExpressionSeq of
    Pattern1 [when Guard1] -&gt; Expressions1;
    Pattern2 [when Guard2] -&gt; Expressions2;
    ...
  catch
    ExceptionType1: ExPattern1 [when ExGuard1] -&gt; ExExpressions1;
    ExceptionType2: ExPattern2 [when ExGuard2] -&gt; ExExpressions2;
    ...
  after
    AfterExpressions
  end
</pre>
</div>

<dl class="org-dl">
<dt><code>exit</code></dt><dd>Used to terminate the current process.</dd>
<dt><code>throw</code></dt><dd>Its usage is discouraged as it makes understanding program flow
harder to debug.</dd>
<dt><code>error</code></dt><dd>The most common class of errors, can be raised by calling the
<code>erlang:error(Term)</code> BIF.</dd>
</dl>
</div>
<div id="outline-container-orgd65e585" class="outline-3">
<h3 id="orgd65e585">Fail Fast and Noisily, Fail Politely</h3>
<div class="outline-text-3" id="text-orgd65e585">
<blockquote>
<p>
In Erlang, when an error is detected internally by the system or is detected by
program logic, the correct approach is to crash immediately and generate a
meaningful error message.
</p>

<p>
(&#x2026;)
</p>

<p>
Second, fail politely means that only the programmer should see the detailed
error messages produced when a program crashes. A user of the program should
never see these messages.
</p>
</blockquote>
</div>
</div>
</div>
<div id="outline-container-orgde68ce0" class="outline-2">
<h2 id="orgde68ce0">References:</h2>
<div class="outline-text-2" id="text-orgde68ce0">
<style>.csl-entry{text-indent: -1.5em; margin-left: 1.5em;}</style><div class="csl-bib-body">
  <div class="csl-entry"><a id="citeproc_bib_item_1"></a>Armstrong, Joe. 2013. “Programming Erlang: Software for a Concurrent World.”</div>
  <div class="csl-entry"><a id="citeproc_bib_item_2"></a>Cesarini, Francesco, and Simon Thompson. 2009. <i>Erlang Programming: A Concurrent Approach to Software Development</i>. O’Reilly Media, Inc.</div>
  <div class="csl-entry"><a id="citeproc_bib_item_3"></a>Cesarini, Francesco, and Steve Vinoski. 2016. <i>Designing for Scalability with Erlang/Otp: Implement Robust, Fault-Tolerant Systems</i>. O’Reilly Media, Inc.</div>
  <div class="csl-entry"><a id="citeproc_bib_item_4"></a>Laurent, Simon St. 2017. <i>Introducing Erlang: Getting Started in Functional Programming</i>. O’Reilly Media, Inc.</div>
  <div class="csl-entry"><a id="citeproc_bib_item_5"></a>Logan, Martin, Eric Merritt, and Richard Carlsson. 2010. <i>Erlang and Otp in Action</i>. Manning Publications Co.</div>
</div>
</div>
</div>
<div id="outline-container-orgef95d4b" class="outline-2">
<h2 id="orgef95d4b">Backlinks:</h2>
<div class="outline-text-2" id="text-orgef95d4b">
<ul class="org-ul">
<li><a href="./20241001192402-error_handling_in_erlang.html">Error Handling in Erlang</a></li>
</ul>
</div>
</div>
</main>
<footer id="postamble" class="status">
<footer>
  </br>
  <p>
  Built with <a href="https://orgmode.org/">Orgmode</a>, <a href="https://www.gnu.org/software/emacs/">Emacs</a> and <a href="https://nixos.org/">Nix</a>, source code availiable <a href="https://github.com/schonfinkel/schonfinkel.github.io">here</a>.
  </p>
</footer>
</footer>
</body>
</html>
