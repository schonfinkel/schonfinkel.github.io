<!DOCTYPE html>
<html lang="en">
<head>
<!-- 2025-05-20 Tue 00:33 -->
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>DNS</title>
<meta name="author" content="Marcos Benevides" />
<meta name="generator" content="Org Mode" />
<link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">
<!-- syntax highlighting -->
<link rel="stylesheet" href="https://unpkg.com/@highlightjs/cdn-assets@11.9.0/styles/default.min.css">
<script src="https://unpkg.com/@highlightjs/cdn-assets@11.9.0/highlight.min.js"></script>
<script src="https://unpkg.com/@highlightjs/cdn-assets@11.9.0/languages/erlang.min.js"></script>
<script src="https://unpkg.com/@highlightjs/cdn-assets@11.9.0/languages/fsharp.min.js"></script>
<script src="https://unpkg.com/@highlightjs/cdn-assets@11.9.0/languages/nix.min.js"></script>
<script src="https://unpkg.com/@highlightjs/cdn-assets@11.9.0/languages/yaml.min.js"></script>
<!-- D3.js for the Org-roam graph -->
<script type="text/javascript" src ="https://d3js.org/d3.v7.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.9.0/d3.min.js"></script>
<!-- For LaTeX -->
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
<link href="https://schonfinkel.github.io/static/css/main.css" rel="stylesheet">
<script>
  MathJax = {
    tex: {
      displayMath: [['\\[', '\\]'], ['$$', '$$']],  // block
      inlineMath: [['\\(', '\\)']]                  // inline
    }
  };
</script>
</head>
<body>
<header id="preamble" class="status">
<nav>
  <img
    src="https://schonfinkel.github.io/static/img/logo.png"
    alt="logo"
    width="128"
    height="128"
  />
  <div>
    <h3>"Writing is nothing more than a guided dream."</h3>
  </div>
  <ul>
    <li><a href="https://schonfinkel.github.io/index.html">Home</a></li>
    <li><a href="https://schonfinkel.github.io/blog.html">Blog</a></li>
    <li><a href="https://schonfinkel.github.io/notes.html">Notes</a></li>
    <li><a href="https://schonfinkel.github.io/static/cv.pdf">CV</a></li>
    <li><a href="https://schonfinkel.github.io/static/blogroll.xml">BlogRoll</a></li>
    <li><a href="https://schonfinkel.github.io/rss.xml"><i class='bx bx-rss'></i></a></li>
  </ul>
</nav>
</header>
<main id="content" class="content">
<header>
<h1 class="title">DNS</h1>
</header><blockquote>
<p>
The Domain Name System is a distributed database. This structure allows local
control of the segments of the overall database, yet data in each segment is
available across the entire network through a client/server scheme. Robustness
and adequate performance are achieved through replication and caching.
</p>

<p>
Programs called nameservers constitute the server half of DNS's client/server
mechanism. Nameservers contain information about some segments of the database
and make that information available to clients, called resolvers. Resolvers are
often just library routines that create queries and send them across a network
to a nameserver. (<a href="#citeproc_bib_item_1">Liu and Albitz 2006, chap. 1 p.4</a>)
</p>
</blockquote>

<div class="org-src-container">
<pre class="src src-shell">  &gt; dig +noall +answer wikipedia.org
  wikipedia.org.                276     IN      A       195.200.68.224
  <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">or </span>
  &gt; dig +noall +answer wikipedia.org AAAA
  wikipedia.org.                185     IN      AAAA    2a02:ec80:700:ed1a::1
</pre>
</div>

<table>


<colgroup>
<col  class="org-left">

<col  class="org-right">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Human-Friendly Name</th>
<th scope="col" class="org-right">Machine-Friendly Name</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">www.wikipedia.com</td>
<td class="org-right">195.200.68.224</td>
</tr>

<tr>
<td class="org-left">dns.cloudfare.com</td>
<td class="org-right">1.1.1.1</td>
</tr>
</tbody>
</table>
<div id="outline-container-org970e2d9" class="outline-2">
<h2 id="org970e2d9">The Domain Namespace</h2>
<div class="outline-text-2" id="text-org970e2d9">
<blockquote>
<p>
Each <b>node</b> in the tree has a text label (without dots) that can be up to 63
characters long. A null (zero-length) label is reserved for the <b>root</b>. The full
<b>domain name</b> of any node in the tree is the sequence of labels on the path from
that <b>node</b> to the <b>root</b>. <b>Domain names</b> are always read from the <b>node</b> toward the
<b>root</b> (“up” the tree), with dots separating the names in the path.
</p>

<p>
(<a href="#citeproc_bib_item_1">Liu and Albitz 2006, 12</a>)
</p>
</blockquote>


<figure id="org1796a59">
<img src="../static/img/notes/dns_structure.png" alt="dns_structure.png">

</figure>
</div>
<div id="outline-container-org742d014" class="outline-3">
<h3 id="org742d014">Domains and Subdomains</h3>
<div class="outline-text-3" id="text-org742d014">
<blockquote>
<p>
A <b>domain</b> may have several subtrees of its own, called <b>subdomains</b>.
</p>

<p>
A simple way of determining if a domain is a subdomain of another domain is to
compare their domain names. A subdomain's domain name ends with the domain name
of its parent domain.
</p>

<p>
(<a href="#citeproc_bib_item_1">Liu and Albitz 2006, 16</a>)
</p>
</blockquote>

<ul class="org-ul">
<li>A <i>domain</i> is a set of related <i>nodes</i>.</li>
<li>Every <i>node</i> in the DNS tree has a <i>label</i>.</li>
<li>The root label is empty.</li>
<li>Labels are separated by a dot (<code>.</code>).</li>
<li>Items are sorted from most to least specific (i.e. <code>en.wikipedia.org</code> -&gt;
<code>wikipedia.org</code> -&gt; <code>org</code>).</li>
</ul>

<table>


<colgroup>
<col  class="org-left">

<col  class="org-left">

<col  class="org-left">

<col  class="org-left">

<col  class="org-left">

<col  class="org-left">

<col  class="org-left">

<col  class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Node</th>
<th scope="col" class="org-left">&#xa0;</th>
<th scope="col" class="org-left">Subdomain</th>
<th scope="col" class="org-left">&#xa0;</th>
<th scope="col" class="org-left">Domain</th>
<th scope="col" class="org-left">&#xa0;</th>
<th scope="col" class="org-left">TLD</th>
<th scope="col" class="org-left">Root</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">www</td>
<td class="org-left">.</td>
<td class="org-left">abc</td>
<td class="org-left">.</td>
<td class="org-left">xyz</td>
<td class="org-left">.</td>
<td class="org-left">com</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">www</td>
<td class="org-left">.</td>
<td class="org-left">en</td>
<td class="org-left">.</td>
<td class="org-left">wikipedia</td>
<td class="org-left">.</td>
<td class="org-left">org</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>

<p>
where TLD is an abbreviation for "Top Level Domain".
</p>
</div>
</div>
<div id="outline-container-org59247a9" class="outline-3">
<h3 id="org59247a9">Resource Records</h3>
<div class="outline-text-3" id="text-org59247a9">
<blockquote>
<p>
The data associated with domain names is contained in resource records, or RRs.
Records are divided into classes, each of which pertains to a type of network or
software.
</p>

<p>
(<a href="#citeproc_bib_item_1">Liu and Albitz 2006, 16</a>)
</p>
</blockquote>
</div>
</div>
</div>
<div id="outline-container-org18ebf61" class="outline-2">
<h2 id="org18ebf61">Delegation</h2>
<div class="outline-text-2" id="text-org18ebf61">
<blockquote>
<p>
In DNS, each <b>domain</b> can be broken into a number of <b>subdomains</b>, and
responsibility for those <b>subdomains</b> can be doled out to different
organizations. For example, an organization called EDUCAUSE manages the <code>edu</code>
(educational) domain but delegates responsibility for the <code>berkeley.edu</code> subdomain
to U.C. Berkeley.
</p>

<p>
(<a href="#citeproc_bib_item_1">Liu and Albitz 2006, 5</a>)
</p>
</blockquote>

<ul class="org-ul">
<li><i>Delegation</i> allows an organization to assign control of a subdomain to another
organization.</li>
<li><i>Zones</i> are the administrative unit in DNS.</li>
</ul>
</div>
<div id="outline-container-org379d11d" class="outline-3">
<h3 id="org379d11d">Root Servers</h3>
<div class="outline-text-3" id="text-org379d11d">
<p>
The root zone is overseen by<a href="https://www.icann.org/"> ICANN</a> (Internet Corporation for Assigned Names and
Numbers) and its name servers are hosted by a total of 12 organizations, this
can be verified on the list <a href="https://www.iana.org/domains/root/servers">published by IANA</a> (a subsidiary of ICANN).
</p>

<div class="org-src-container">
<pre class="src src-shell">  &gt; dig +short ns . 
  g.root-servers.net.
  e.root-servers.net.
  l.root-servers.net.
  m.root-servers.net.
  a.root-servers.net.
  j.root-servers.net.
  c.root-servers.net.
  h.root-servers.net.
  d.root-servers.net.
  i.root-servers.net.
  k.root-servers.net.
  b.root-servers.net.
  f.root-servers.net.
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org2db5720" class="outline-2">
<h2 id="org2db5720">Name Servers and Resolvers</h2>
<div class="outline-text-2" id="text-org2db5720">

<figure id="orgfe0b669">
<img src="../static/img/notes/dns_servers_and_resolvers.png" alt="dns_servers_and_resolvers.png">

</figure>

<p>
There are two types of DNS servers:
</p>

<dl class="org-dl">
<dt>Authoritative</dt><dd>Answer queries for specific zones they have authority over.</dd>
<dt>Recursive</dt><dd>Perform DNS lookups for users, retrieving and collecting DNS
data from authoritative servers by using recursive queries. Accepting a
recursive query forces a given name server to follow all the links until a
match occurs or no more referrals are found.</dd>
</dl>

<table>


<colgroup>
<col  class="org-left">

<col  class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Zone</th>
<th scope="col" class="org-left">Name Server</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">wikipedia.org</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">wikipedia.org</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">wikipedia.org</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">org</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>

<div class="org-src-container">
<pre class="src src-shell">  dig +noall +answer +trace en.wikipedia.org
</pre>
</div>
</div>
<div id="outline-container-orgec34fe9" class="outline-4">
<h4 id="orgec34fe9">Caching</h4>
<div class="outline-text-4" id="text-orgec34fe9">
<ul class="org-ul">
<li>TTLs can range from seconds to hours to days.</li>
<li>The administrator of a zones are the ones decidings the values for the TTLs.</li>
</ul>
</div>
</div>
<div id="outline-container-org1c117ba" class="outline-3">
<h3 id="org1c117ba">Zone Transfer</h3>
<div class="outline-text-3" id="text-org1c117ba">
</div>
<div id="outline-container-org430c50d" class="outline-4">
<h4 id="org430c50d">The SOA Record</h4>
</div>
</div>
</div>
<div id="outline-container-org01e8c47" class="outline-2">
<h2 id="org01e8c47">Records</h2>
<div class="outline-text-2" id="text-org01e8c47">
<table>


<colgroup>
<col  class="org-left">

<col  class="org-left">

<col  class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Record Name</th>
<th scope="col" class="org-left">Synonims</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>A</code></td>
<td class="org-left">&#xa0;</td>
<td class="org-left">Maps a domain name to an IPV4 address</td>
</tr>

<tr>
<td class="org-left"><code>AAAA</code></td>
<td class="org-left">Quad A</td>
<td class="org-left">Maps a domain name to an IPV6 address</td>
</tr>

<tr>
<td class="org-left"><code>NS</code></td>
<td class="org-left">&#xa0;</td>
<td class="org-left">Maps a domain name to an authoritative DNS server</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-org8ecd670" class="outline-2">
<h2 id="org8ecd670">References:</h2>
<div class="outline-text-2" id="text-org8ecd670">
<style>.csl-entry{text-indent: -1.5em; margin-left: 1.5em;}</style><div class="csl-bib-body">
  <div class="csl-entry"><a id="citeproc_bib_item_1"></a>Liu, Cricket, and Paul Albitz. 2006. <i>Dns and Bind</i>. O’Reilly Media, Inc.</div>
</div>
</div>
</div>
<div id="outline-container-orge68cfbc" class="outline-2">
<h2 id="orge68cfbc">Backlinks:</h2>
<div class="outline-text-2" id="text-orge68cfbc">
<ul class="org-ul">
<li><a href="./20250319103806-hosts_txt.html">HOSTS.TXT</a></li>
</ul>
</div>
</div>
</main>
<footer id="postamble" class="status">
<footer>
  </br>
  <p>
  Built with <a href="https://orgmode.org/">Orgmode</a>, <a href="https://www.gnu.org/software/emacs/">Emacs</a> and <a href="https://nixos.org/">Nix</a>, source code availiable <a href="https://github.com/schonfinkel/schonfinkel.github.io">here</a>.
  </p>
</footer>
</footer>
</body>
</html>
