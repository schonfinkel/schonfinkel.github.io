<!DOCTYPE html>
<html lang="en">
<head>
<!-- 2025-09-25 Thu 15:21 -->
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Application (OTP)</title>
<meta name="author" content="Marcos Benevides" />
<meta name="generator" content="Org Mode" />
<link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">
<!-- syntax highlighting -->
<link rel="stylesheet" href="https://unpkg.com/@highlightjs/cdn-assets@11.9.0/styles/default.min.css">
<script src="https://unpkg.com/@highlightjs/cdn-assets@11.9.0/highlight.min.js"></script>
<script src="https://unpkg.com/@highlightjs/cdn-assets@11.9.0/languages/erlang.min.js"></script>
<script src="https://unpkg.com/@highlightjs/cdn-assets@11.9.0/languages/fsharp.min.js"></script>
<script src="https://unpkg.com/@highlightjs/cdn-assets@11.9.0/languages/nix.min.js"></script>
<script src="https://unpkg.com/@highlightjs/cdn-assets@11.9.0/languages/yaml.min.js"></script>
<!-- D3.js for the Org-roam graph -->
<script type="text/javascript" src ="https://d3js.org/d3.v7.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.9.0/d3.min.js"></script>
<!-- For LaTeX -->
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
<link href="https://schonfinkel.github.io/static/css/main.css" rel="stylesheet">
<script>
  MathJax = {
    tex: {
      displayMath: [['\\[', '\\]'], ['$$', '$$']],  // block
      inlineMath: [['\\(', '\\)']]                  // inline
    }
  };
</script>
</head>
<body>
<header id="preamble" class="status">
<nav>
  <img
    src="https://schonfinkel.github.io/static/img/logo.png"
    alt="logo"
    width="128"
    height="128"
  />
  <div>
    <h3>"Writing is nothing more than a guided dream."</h3>
  </div>
  <ul>
    <li><a href="https://schonfinkel.github.io/index.html">Home</a></li>
    <li><a href="https://schonfinkel.github.io/blog.html">Blog</a></li>
    <li><a href="https://schonfinkel.github.io/notes.html">Notes</a></li>
    <li><a href="https://schonfinkel.github.io/static/cv.pdf">CV</a></li>
    <li><a href="https://schonfinkel.github.io/static/blogroll.xml">BlogRoll</a></li>
    <li><a href="https://schonfinkel.github.io/rss.xml"><i class='bx bx-rss'></i></a></li>
  </ul>
</nav>
</header>
<main id="content" class="content">
<header>
<h1 class="title">Application (OTP)</h1>
</header><blockquote>
<p>
Applications are the way you package related modules in Erlang. The focus here
isn’t on packaging for distribution but on being able to treat a bunch of
modules as a single entity. Although <a href="20240928181517-otp.html#ID-6ed3a191-0128-453e-b0b6-37c48593a6f0">OTP</a> applications can be merely some library
code for others to call, more often they're like creatures with a life of their
own: they start up, do what they’re designed to do, and shut down. Some can have
multiple running instances, and some are limited to one instance at a
time. (<a href="#citeproc_bib_item_1">Logan, Merritt, and Carlsson 2010, 119</a>)
</p>
</blockquote>
<div id="outline-container-org2a9524f" class="outline-2">
<h2 id="org2a9524f">Active Applications</h2>
<div class="outline-text-2" id="text-org2a9524f">
<blockquote>
<p>
All applications have the same basic structure (&#x2026;). The application behaviour
encapsulates starting and stopping the application. When started, a running
application has a root <a href="20241013103835-supervisor.html#ID-2daf1307-afb4-49e4-98cb-66ac7eb27cf0">Supervisor</a>, which directly or indirectly manages all the
other processes of the application (including any subsystem
supervisors). (<a href="#citeproc_bib_item_1">Logan, Merritt, and Carlsson 2010, 243</a>)
</p>
</blockquote>

<p>
Active Applications have a life cycle and must be started in order to be useful.
</p>


<figure id="orgacc4e3f">
<img src="../static/img/notes/erlang_application_structure.png" alt="erlang_application_structure.png">

</figure>
</div>
<div id="outline-container-orgf5b7cbb" class="outline-3">
<h3 id="orgf5b7cbb">Metadata</h3>
<div class="outline-text-3" id="text-orgf5b7cbb">
<p>
OTP needs a certain amount of information to make sense of active applications,
like what to <code>start/stop</code> (provided you implement the <code>application</code> behaviour) in
your module and which dependencies are require to do so. This sort of
information is contained within the <code>.app</code> file. All this metadata is needed to
proper manage the application, the <code>vsn</code> tuple is particularly importante in the
context of release management.
</p>

<div class="org-src-container">
<pre class="src src-erlang">{application, example,
  [{description, "Description Example"},
   {vsn, "0.0.1"},
   {modules, [example, example_sup, example_module]},
   {registered, [example, example_sup]},
   {applications, [kernel,stdlib]},
   {mod, {example_app,[]} }]}.
</pre>
</div>

<div class="org-src-container">
<pre class="src src-erlang">  1&gt; application:loaded_applications().
</pre>
</div>
</div>
</div>
<div id="outline-container-orgb56e474" class="outline-3">
<h3 id="orgb56e474">The Application Controller</h3>
<div class="outline-text-3" id="text-orgb56e474">
<blockquote>
<p>
There is only one application controller per runtime system, registered under
the name <code>application_controller</code>. (&#x2026;) The controller is also responsible for
loading the <code>.app</code> file for the application and checking that all the applications
it depends on have been started first. (<a href="#citeproc_bib_item_1">Logan, Merritt, and Carlsson 2010, 245</a>)
</p>
</blockquote>
</div>
<div id="outline-container-orgcc6097d" class="outline-4">
<h4 id="orgcc6097d">Start Types</h4>
<div class="outline-text-4" id="text-orgcc6097d">
<ul class="org-ul">
<li><code>permanent</code></li>
<li><code>temporary</code></li>
</ul>
</div>
</div>
</div>
</div>
<div id="outline-container-orgf632be1" class="outline-2">
<h2 id="orgf632be1">Library Applications</h2>
<div class="outline-text-2" id="text-orgf632be1">
<p>
Library applications are a passive collection of modules to be used by other
applications, and they don't need to be started or stopped.
</p>
</div>
</div>
<div id="outline-container-org7ccef72" class="outline-2">
<h2 id="org7ccef72">Making a Release</h2>
<div class="outline-text-2" id="text-org7ccef72">
<blockquote>
<p>
Packaging of functionality in Erlang/OTP can be viewed as a hierarchy. At the
lowest level are modules, which encapsulate code. Modules are grouped into
applications, which encapsulate dynamic behavior and higher-level
functionality. Finally, applications are grouped into
releases. (<a href="#citeproc_bib_item_1">Logan, Merritt, and Carlsson 2010, 245</a>)
</p>
</blockquote>
</div>
<div id="outline-container-org8b90246" class="outline-3">
<h3 id="org8b90246">Releases</h3>
<div class="outline-text-3" id="text-org8b90246">
<blockquote>
<p>
A release consists of a set of applications together with some metadata
specifying how to start and manage those applications as a system. The
applications in a release execute together in the same Erlang runtime system: a
<b>target system</b>, stripped down to run only these
applications.
</p>

<p>
(&#x2026;)
</p>

<p>
To summarize:
</p>
<ul class="org-ul">
<li>A release describes a running Erlang runtime system.</li>
<li>A release has a version.</li>
<li>A release aggregates a number of versioned applications along with metadata on
how to manage the system.</li>
<li>Installing a release on a host machine produces a <b>target system</b>.</li>
</ul>

<p>
(<a href="#citeproc_bib_item_1">Logan, Merritt, and Carlsson 2010, 246</a>)
</p>
</blockquote>


<figure id="org92acb66">
<img src="../static/img/notes/erlang_release_structure.png" alt="erlang_release_structure.png">

</figure>
</div>
<div id="outline-container-org2413b52" class="outline-4">
<h4 id="org2413b52">Metadata</h4>
</div>
</div>
<div id="outline-container-org37c37a1" class="outline-3">
<h3 id="org37c37a1">System Configuration</h3>
<div class="outline-text-3" id="text-org37c37a1">
<blockquote>
<p>
The standard name for a configuration file is <code>sys.config</code>. The name can be
anything as long as it ends with the extension <code>.config</code>. Just like the <code>.app</code> file
and the <code>.rel</code> file, the <code>.config</code> file contains a single Erlang term followed by a
period. (<a href="#citeproc_bib_item_1">Logan, Merritt, and Carlsson 2010, 250</a>)
</p>
</blockquote>
</div>
</div>
</div>
<div id="outline-container-orgabc6a1e" class="outline-2">
<h2 id="orgabc6a1e">References:</h2>
<div class="outline-text-2" id="text-orgabc6a1e">
<style>.csl-entry{text-indent: -1.5em; margin-left: 1.5em;}</style><div class="csl-bib-body">
  <div class="csl-entry"><a id="citeproc_bib_item_1"></a>Logan, Martin, Eric Merritt, and Richard Carlsson. 2010. <i>Erlang and Otp in Action</i>. Manning Publications Co.</div>
</div>
</div>
</div>
<div id="outline-container-org23c5301" class="outline-2">
<h2 id="org23c5301">Backlinks:</h2>
<div class="outline-text-2" id="text-org23c5301">
<ul class="org-ul">
<li><a href="./20240928181517-otp.html">OTP</a></li>
</ul>
</div>
</div>
</main>
<footer id="postamble" class="status">
<footer>
  </br>
  <p>
  Built with <a href="https://orgmode.org/">Orgmode</a>, <a href="https://www.gnu.org/software/emacs/">Emacs</a> and <a href="https://nixos.org/">Nix</a>, source code availiable <a href="https://github.com/schonfinkel/schonfinkel.github.io">here</a>.
  </p>
</footer>
</footer>
</body>
</html>
